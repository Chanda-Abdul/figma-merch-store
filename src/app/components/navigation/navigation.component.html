<nav class="nav"
     id="scrollToTop">
  <div class="nav__container">
    <section class="nav__container--left">

      <div *ngIf="!isMobile; else mobileMenuToggle">
        <!-- default menu links for desktop -->
        <div class="nav__links--desktop">
          <ng-container *ngTemplateOutlet="navDefaultLinks"></ng-container>
        </div>
      </div>

      <!-- burger toggle for mobile -->
      <ng-template #mobileMenuToggle>
        <div class="nav__toggle">

          <input type="checkbox"
                 id="nav-toggle"
                 [checked]="false">

          <label for="nav-toggle"
                 class="nav__toggle--icons">

            <span></span>
          </label>

          <div class="nav__toggle--background">

            <div class="nav__links">

              <ng-container *ngTemplateOutlet="navDefaultLinks"></ng-container>

              <ng-container *ngTemplateOutlet="navLegalLinks"></ng-container>
            </div>
          </div>
        </div>
      </ng-template>

      <!-- search button -->
      <div class="nav__search"
           (click)="toggleSearchBar(!searchBarVisible)">
        <ng-container *ngTemplateOutlet="searchIcon"></ng-container>
      </div>
    </section>


    <!-- logo -->
    <a routerLink="/"
       class="nav__logo">
      <img src="//cdn.shopify.com/s/files/1/0576/8364/0503/t/4/assets/logo-full.static.svg?v=89107020529489074251658098331"
           class="logo"
           alt="The Figma Store" />
    </a>

    <section class="nav__container--right">

      <!-- location select -->
      <div class="nav__location">
        <span *ngIf="isMobile">
          <ng-container *ngTemplateOutlet="locationIcon"></ng-container>
        </span>
        <select id="location-select"
                class="nav__location--select"
                (change)="updateLocation($event)"
                *ngIf="!isMobile || locationSelectVisible">

          <option *ngFor="let option of locationOptions"
                  [value]="option.optionValue"
                  selected="">{{option.country}}</option>
          <!-- TO-DO (functionality )=> selected for default and updated options -->

        </select>
      </div>

      <div class="nav__cart">
        <a class="nav__cart--link"
           routerLink="cart">

          <p *ngIf="!isMobile">Cart</p>

          <span data-cart-count
                class="nav__cart--count">{{cartCount$ }}</span>
        </a>
      </div>

    </section>

  </div>


  <ng-template #navDefaultLinks>
    <menu class="nav__links--default">
      <li *ngFor="let links of menuLinks.default"
          class="nav__links--default-list">

        <a href="{{links.link}}"
           class="nav__link--default">{{links.text}}</a>
      </li>
    </menu>
  </ng-template>

  <ng-template #navLegalLinks>
    <menu class="nav__links--legal">
      <li *ngFor="let links of menuLinks.legal"
          class="nav__links--legal-list">

        <a href="{{links.link}}"
           class="nav__link--legal">{{links.text}}</a>
      </li>
    </menu>
  </ng-template>

  <ng-template #searchIcon>
    <a class="nav__search">
      <svg xmlns="http://www.w3.org/2000/svg"
           class="xs">
        <use xlink:href="/assets/icons.svg#magnifying-glass"></use>
      </svg>
    </a>
  </ng-template>

  <ng-template #locationIcon>
    <button class="nav__location--icon"
            (click)=" togglelocationSelector()">
      <svg xmlns="http://www.w3.org/2000/svg"
           class="xs">
        <use xlink:href="/assets/icons.svg#map-pin"></use>
      </svg>
    </button>
  </ng-template>
</nav>